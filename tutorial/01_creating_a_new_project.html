

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Creating a New Project &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="LASIF 0.1.x documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="../tutorial.html"/>
        <link rel="next" title="3. Seismic Events" href="02_seismic_events.html"/>
        <link rel="prev" title="1. Interfaces" href="00_interfaces.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_interfaces.html">1. Interfaces</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. Creating a New Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-file">2.1. Configuration File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02_seismic_events.html">3. Seismic Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_station_data.html">4. Station Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_download_helpers.html">5. Download Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_data_inspection.html">6. Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_data_validation.html">7. Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_a_new_iteration.html">8. Defining a New Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_data_processing.html">9. Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_model_handling.html">10. Earth Model Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_generating_input_files.html">11. Generating Input Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_synthetic_waveforms.html">12. Synthetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_misfits_and_adjoint_sources.html">13. Misfit and Adjoint Source Calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_gradient_visualization.html">14. Gradient Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meshing.html">Meshing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LASIF</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>2. Creating a New Project</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/01_creating_a_new_project.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p class="centered">
<strong>Last updated on <em>February 22th 2018</em>.</strong></p><div class="section" id="creating-a-new-project">
<h1>2. Creating a New Project<a class="headerlink" href="#creating-a-new-project" title="Permalink to this headline">¶</a></h1>
<p>The necessary first step, whether for starting a new inversion or migrating an
already existing inversion to <strong>LASIF</strong>, is to create a new project with the
<code class="code docutils literal notranslate"><span class="pre">lasif</span> <span class="pre">init_project</span></code> command. In this  tutorial we will work with a
project called <strong>Tutorial</strong>. The <code class="code docutils literal notranslate"><span class="pre">lasif</span> <span class="pre">init_project</span></code> command will
create a  new folder in whichever directory the command is executed in.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif init_project Tutorial

Initialized project in:
    /Users/solvi/PhD/LASIF_Projects/LASIF_Tutorial/Tutorial
</pre></div>
</div>
<p>This will create the following directory structure. A <strong>LASIF</strong> project is
defined by the files it contains. All information it requires will be
assembled from the available data. In the course of this tutorial you will
learn what piece of data belongs where and how <strong>LASIF</strong> interacts with it.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Tutorial/
├── ADJOINT_SOURCES
├── DATA
│   ├── CORRELATIONS
│   └── EARTHQUAKES
├── FUNCTIONS
│   ├── __init__.py
│   ├── light_preprocessing.py
│   ├── preprocessing_function_asdf.py
│   ├── process_data.py
│   ├── process_synthetics.py
│   ├── source_time_function.py
│   └── window_picking_function.py
├── GRADIENTS
├── MODELS
├── OUTPUT
│   └── LOGS
├── PROCESSED_DATA
│   ├── CORRELATIONS
│   └── EARTHQUAKES
├── SALVUS_INPUT_FILES
├── SETS
│   ├── WEIGHTS
│   └── WINDOWS
├── SYNTHETICS
│   ├── CORRELATIONS
│   └── EARTHQUAKES
└── lasif_config.toml
</pre></div>
</div>
<div class="section" id="configuration-file">
<h2>2.1. Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h2>
<p>Each project stores its configuration values in <em>lasif_config.toml</em>. This
file should always be located in the root directory of the project as this
file is how LASIF determines the root folder of the project. It uses the
toml format which is a readable file format which should be for the most
part self explanatory. It is important that the names of the inputted values
will not be changed.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Please fill in this config file before proceeding with using LASIF.

[lasif_project]
  project_name = &quot;Tutorial&quot;
  description = &quot;&quot;

  # Name of the exodus file used for the simulation. Without a mesh file, LASIF will not work.
  mesh_file = &quot;/Users/solvi/PhD/LASIF_Projects/LASIF_Tutorial/Tutorial/&quot;

  # Number of buffer elements at the domain edges, no events or receivers will be placed there.
  # A minimum amount of 3 is advised.
  num_buffer_elements = 8

  # Type of misift, choose from:
  # [TimeFrequencyPhaseMisfitFichtner2008, L2Norm, CCTimeShift]
  misfit_type = &quot;TimeFrequencyPhaseMisfitFichtner2008&quot;

  [lasif_project.download_settings]
    seconds_before_event = 300.0
    seconds_after_event = 3600.0
    interstation_distance_in_meters = 1000.0
    channel_priorities = [ &quot;BH[Z,N,E]&quot;, &quot;LH[Z,N,E]&quot;, &quot;HH[Z,N,E]&quot;, &quot;EH[Z,N,E]&quot;, &quot;MH[Z,N,E]&quot;,]
    location_priorities = [ &quot;&quot;, &quot;00&quot;, &quot;10&quot;, &quot;20&quot;, &quot;01&quot;, &quot;02&quot;,]

# Data processing settings,  high- and lowpass period are given in seconds.
[data_processing]
  highpass_period = 30.0 # Periods longer than the highpass_period can pass.
  lowpass_period = 50.0 # Periods longer than the lowpass_period will be blocked.
  # Only worry about this if you will reduce the size of the raw data set:
  downsample_period = 1.0 # Minimum period of the period range you will have in your (raw) recordings.

  # You most likely want to keep this setting at true.
  scale_data_to_synthetics = true

[solver_settings]
    number_of_absorbing_layers = 7
    end_time = 600.0
    time_increment = 0.02
    polynomial_order = 4

    salvus_bin = &quot;salvus_wave/build/salvus&quot;
    number_of_processors = 4
    io_sampling_rate_volume = 20
    io_memory_per_rank_in_MB = 5000
    salvus_call = &quot;mpirun -n 4&quot;

    with_anisotropy = true
    with_attenuation = false

    # Source time function type, currently only &quot;bandpass_filtered_heaviside&quot; is supported
    source_time_function_type = &quot;bandpass_filtered_heaviside&quot;
</pre></div>
</div>
<p>You will probably have another values in <code class="docutils literal notranslate"><span class="pre">end_time</span></code> and <code class="docutils literal notranslate"><span class="pre">time_increment</span></code>
to follow this tutorial, please modify them to resemble this one.</p>
<p>The <strong>lasif_config.toml</strong> file allows you to tune parameters related to the
processing of your data, download settings, and forward simulation parameters.
This is where you let <strong>LASIF</strong> know where it finds the mesh file to use, which
source time function and which misfit measurement you want to use. <em>Currently
only the once specified in this example config file are supported</em>. The mesh
file is how <strong>LASIF</strong> determines the domain used for the simulation. This
mesh needs to be in an exodus file format and we recommend using the
<a class="reference external" href="https://gitlab.com/Salvus/salvus_mesher/tree/master">pymesher</a> which is
a part of <a class="reference external" href="http://www.salvus.io">salvus</a>. You can plot the domain to make
sure that lasif has read the correct domain for your project.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif plot_domain
</pre></div>
</div>
<p>This will open a window showing the location of the physical domain and the
simulation domain. The inner contour shows the domain minus the previously
defined boundary width.</p>
<a class="reference internal image-reference" href="../_images/plot_domain.png"><img alt="../_images/plot_domain.png" class="align-center" src="../_images/plot_domain.png" style="width: 90%;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The map projection and zoom should automatically adjust so that it is suitable
for the dimensions and location of the chosen domain. If this is not the
case, please file an issue on the project’s Github page.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_seismic_events.html" class="btn btn-neutral float-right" title="3. Seismic Events" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="00_interfaces.html" class="btn btn-neutral" title="1. Interfaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.x',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>