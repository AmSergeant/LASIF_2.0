

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. Data Inspection &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Data Validation" href="06_data_validation.html" />
    <link rel="prev" title="5. Download Helpers" href="04_download_helpers.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_interfaces.html">1. Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_creating_a_new_project.html">2. Creating a New Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_seismic_events.html">3. Seismic Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_station_data.html">4. Station Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_download_helpers.html">5. Download Helpers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6. Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_data_validation.html">7. Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_a_new_iteration.html">8. Defining a New Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_data_processing.html">9. Data Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_model_handling.html">10. Earth Model Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_generating_input_files.html">11. Generating Input Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_synthetic_waveforms.html">12. Synthetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_misfits_and_adjoint_sources.html">13. Misfit and Adjoint Source Calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_gradient_visualization.html">14. Gradient Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meshing.html">Meshing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LASIF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>6. Data Inspection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/05_data_inspection.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p class="centered">
<strong>Last updated on <em>February 22nd 2018</em>.</strong></p><div class="section" id="data-inspection">
<h1>6. Data Inspection<a class="headerlink" href="#data-inspection" title="Permalink to this headline">Â¶</a></h1>
<p>Once waveform and station metadata has been downloaded (either with the
built-in helpers or manually) and placed in the correct folders, <strong>LASIF</strong> can
start to work with it. To continue this tutorial, you can copy your asdf files
from the <strong>LASIF</strong> folder. You can also download data automatically for the
events and use that data to continue the tutorial. This is how you could copy
the data from the <strong>LASIF</strong> folder if you are positioned in the projects root
folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp <span class="o">{</span>lasif_code_folder<span class="o">}</span>/lasif/tests/data/ExampleProject/DATA/EARTHQUAKES/* ./DATA/EARTHQUAKES/
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>LASIF</strong> essentially needs three ingredients to be able to interpret waveform
data:</p>
<ul class="simple">
<li>The actual waveforms</li>
<li>The location of the recording seismometer</li>
<li>The instrument response for each channel at the time of data recording</li>
</ul>
<p class="last">This information needs to be existing in the ASDF file for each event.
We will make a tutorial showing the way the data needs to be structured
later.</p>
</div>
<p>At this point, <strong>LASIF</strong> is able to match available station and waveform
information. Only stations where the three aforementioned ingredients are
available will be considered to be stations that are good to be worked with by
<strong>LASIF</strong>. Others will be ignored.</p>
<p>Once you have picked a few events it is possible to plot them all on a single
overview plot by executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif plot_events
</pre></div>
</div>
<p>To get an overview, of what data is actually available for any given event,
just execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif event_info -v GCMT_event_TURKEY_Mag_5.9_2011-5-19-20-15

Earthquake with <span class="m">5</span>.9 Mwc at TURKEY
    Latitude: <span class="m">39</span>.150, Longitude: <span class="m">29</span>.100, Depth: <span class="m">7</span>.0 km
    <span class="m">2011</span>-05-19T20:15:22.900000Z UTC

Station and waveform information available at <span class="m">3</span> stations:

<span class="o">============================================================</span>
             ID       Latitude      Longitude <span class="nv">Elevation_in_m</span>
<span class="o">============================================================</span>
        GE.TIRR      <span class="m">44</span>.458099        <span class="m">28</span>.4128           <span class="m">77</span>.0
         MN.IDI      <span class="m">35</span>.287998      <span class="m">24</span>.889999          <span class="m">750</span>.0
        YD.4F14      <span class="m">44</span>.988819      <span class="m">24</span>.610781          <span class="m">286</span>.0
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The local depth is allowed to not be set. In that case it will be
assumed to be zero. For all practical purposes the local depth does not
matter for continental scale inversions.</p>
</div>
<p>It is furthermore possible to plot the availability information for one event
including a very simple ray coverage plot with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif plot_event GCMT_event_TURKEY_Mag_5.9_2011-5-19-20-15
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/plot_event.png"><img alt="../_images/plot_event.png" class="align-center" src="../_images/plot_event.png" style="width: 60%;" /></a>
<p>Now stations have an even weight and would each have the same effect when
computing adjoint sources. A method to change that would be to weigh the
stations up or down depending on the average distance to neighbouring stations.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif compute_station_weights A
</pre></div>
</div>
<p>This can also be done for one event at a time. It writes the weighting factors
to a toml file in <em>/SETS/WEIGHTS/WEIGHTS_A/WEIGHTS_A.toml</em> where A is the
name of the weight set specified when command was run. This file can be used to
manually modify station weights. Now we can plot the event again while showing
on a colour scale how the stations are weighted.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif plot_event GCMT_event_TURKEY_Mag_5.9_2011-5-19-20-15 --weight_set_name A
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/plot_event_weighted.png"><img alt="../_images/plot_event_weighted.png" class="align-center" src="../_images/plot_event_weighted.png" style="width: 60%;" /></a>
<p>Now we can see how the stations are colour coded according to the weighting
scheme. This method is more relevant when you have more stations where their
distribution is far from uniform.</p>
<p>If you are interested in getting a coverage plot of all events and data
available for the current project, please execute the <code class="docutils literal notranslate"><span class="pre">plot_raydensity</span></code>
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lasif plot_raydensity
</pre></div>
</div>
<p>Actually plotting this may take a fair while, depending on the amount of data
you have.
Keep in mind that this only results in a reasonable plot for large amounts of
data; for the toy example used in the tutorial it will not be useful. It is not
a physically accurate plot but helps in judging data coverage and directionality
effects. An example from a larger <strong>LASIF</strong> project illustrates this:</p>
<a class="reference internal image-reference" href="../_images/raydensity.jpg"><img alt="../_images/raydensity.jpg" class="align-center" src="../_images/raydensity.jpg" style="width: 70%;" /></a>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="06_data_validation.html" class="btn btn-neutral float-right" title="7. Data Validation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="04_download_helpers.html" class="btn btn-neutral" title="5. Download Helpers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.x',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>