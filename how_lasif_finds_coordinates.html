<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How LASIF Finds Coordinates &mdash; LASIF 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="LASIF 0.0.1 documentation" href="index.html" />
    <link rel="prev" title="lasif.rotations" href="rotations.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rotations.html" title="lasif.rotations"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">LASIF 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="rotations.html"
                        title="previous chapter">lasif.rotations</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/how_lasif_finds_coordinates.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-lasif-finds-coordinates">
<h1>How LASIF Finds Coordinates<a class="headerlink" href="#how-lasif-finds-coordinates" title="Permalink to this headline">Â¶</a></h1>
<p>LASIF needs to know the physical coordinates of data recordings, derived
processed data, and of all synthetics waveforms. Due to the large variety of
supported formats and the possibility to freely mix formats as desired this is
not a straightforward task. The SAC/RESP combination in wide use is a
particular problem as it does not seperate station and waveform metadata. In
general LASIF is only interested in station coordinates and not single
instrument coordinates and treats the coordinates of instruments from one
station to be equal within a certain tolerance. This is explained and justified
in more detail further down the page.</p>
<p>A single strategy is employed to find the coordinates of any data recording:</p>
<ol class="arabic simple">
<li>Use the network and station code of the waveform file and see if any SEED or
StationXML file has coordinates for this station. If coordinates are found,
use them - if not keep searching. Notably RESP files do not contain
coordinates and this step will not work for them.</li>
<li>Attempt to extract the coordinates from the actual waveform file. This only
works for SAC files. If the file in question is a processed or synthetic
data file, the original raw data recording will be located and used. If
coordinates are found that way, they will be returned.</li>
<li>If all else fails, a webrequest will be dispatched to ArcLink and IRIS in an
attempt to get the coordinates or the user will have to manually enter the
coordinates. There is currently no pretty interface to manually enter the
coordinates so please contact the developers if that is something you need.</li>
<li>A warning will be raised if all these steps failed and the user is expected
to either remove the data in question or manually enter the coordinates.</li>
</ol>
<p>The following image illustrates the procedure:</p>
<a class="reference internal image-reference" href="_images/how_lasif_finds_coordinates.png"><img alt="_images/how_lasif_finds_coordinates.png" src="_images/how_lasif_finds_coordinates.png" style="width: 100%;" /></a>
<p>Oftentimes one single seismic station contains several instruments. According
to the SEED standard, these instruments are differentiated by different
location strings. These can have slightly different coordinates, e.g. one
instrument in a borehole, one at ground level.</p>
<p>LASIF is usually only interested in the coordinates of a station. To derive it,
it checks the coordinates of all the station&#8217;s instruments and asserts they are
equal to a certain tolerance. If not, it picks the first coordinate set it
finds and raises a warning.</p>
<p>The tolerance is equal to either 0.01 degree (for lat/lng) or 1000 meters (for
elevation and local depth).</p>
<p>This approach is justified when using LASIF for continental and global scale
inversions. If your application has different demands, please contact the
developers so a suitable solution can be found.</p>
<p>Keep in mind that this will trigger on stations that moved with time. This
should be only a very small subset and thus corresponding stations should be
removed.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rotations.html" title="lasif.rotations"
             >previous</a> |</li>
        <li><a href="index.html">LASIF 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Lion Krischer &amp; Andreas Fichtner.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  </body>
</html>