

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Meshing &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Web Interface" href="webinterface.html" />
    <link rel="prev" title="Command Line Interface" href="cli.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Meshing</a></li>
<li class="toctree-l1"><a class="reference internal" href="webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LASIF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Meshing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/meshing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p class="centered">
<strong>Last updated on <em>February 26th 2018</em>.</strong></p><div class="section" id="meshing">
<h1>Meshing<a class="headerlink" href="#meshing" title="Permalink to this headline">Â¶</a></h1>
<p>For making a mesh we recommend using the <a class="reference external" href="https://gitlab.com/Salvus/salvus_mesher/tree/master">pymesher</a>
which is an easy to use tool to make meshes of varying scales. The mesh we
used in the tutorial was for example created like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ask the mesher to give you a .yaml file to control parameters</span>
$ python -m pymesher.interface SphericalChunk3D --save_yaml mesh.yaml
</pre></div>
</div>
<p>What you did there is enter the pymesher package from the command line and
through its interface you told it that you want to make a mesh of a
section of the Earth in 3D. The mesher then outputs a file called <em>mesh.yaml</em>.</p>
<p>As our toy study area is in Turkey we can ask the mesher to give us the
coordinates of Turkey just to make things easy. This is of course possible
to do through other methods, but for simplicity you can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -m pymesher.getcoordinates Turkey
</pre></div>
</div>
<p>This should output these values: <em>[38.771730, 34.924965, null]</em>. Now we can
modify the <em>mesh.yaml</em> file so that it makes a mesh that fits our purpose.</p>
<p>The parameters you need to modify are:</p>
<ul class="simple">
<li><p>basic.period = 25</p></li>
<li><p>spherical.min_radius = 5400.0</p></li>
<li><p>chunk3D.max_colatitude1 = 10.0</p></li>
<li><p>chunk3D.max_colatitude2 = 10.0</p></li>
<li><p>chunk3D.euler_angles = [38.771730, 34.924965, null]</p></li>
</ul>
<p>That should be enough to make a mesh identical to the one we used in the
tutorial. Now you can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -m pymesher.interface --input_file mesh.yaml
</pre></div>
</div>
<p>If you have already made a mesh with the same velocity model and period you
will have to add the <code class="docutils literal notranslate"><span class="pre">--overwrite</span></code> flag at the end and then your old mesh
will be overwritten with the new one.</p>
<p>For further information and help using the pymesher we refer to its <a class="reference external" href="https://gitlab.com/Salvus/salvus_mesher/tree/master">website</a>.</p>
<p>If you do not want to learn how to make the mesh to use in the tutorial but
you still want to go through the tutorial you can copy the mesh we used and
paste it into your project folder. Then refer to its path in your config file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Position your self in the root of your lasif project</span>
$ cp <span class="o">{</span>lasif_code_folder<span class="o">}</span>/lasif/tests/data/example_project/MODELS/ITERATION_1/Turkey.e ./MODELS/.
</pre></div>
</div>
<p>Then you should have the same mesh ready in your project folder and can
go through the tutorial.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="webinterface.html" class="btn btn-neutral float-right" title="Web Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cli.html" class="btn btn-neutral float-left" title="Command Line Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>