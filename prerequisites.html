

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation, Testing &amp; DevInfo &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction" href="introduction.html" />
    <link rel="prev" title="Welcome to LASIF 2.0" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation, Testing &amp; DevInfo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-lasif">Installing LASIF</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-lasif">Updating LASIF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-the-tests">Running the Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#developer-information">Developer Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshing.html">Meshing</a></li>
<li class="toctree-l1"><a class="reference internal" href="webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LASIF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation, Testing &amp; DevInfo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/prerequisites.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-testing-devinfo">
<h1>Installation, Testing &amp; DevInfo<a class="headerlink" href="#installation-testing-devinfo" title="Permalink to this headline">¶</a></h1>
<p>This page details installation instructions, how to run the tests, and some
additional information if you want to develop new features for <strong>LASIF 2.0</strong>. If
you encounter any issues, please don’t hesitate to contact us or
<a class="reference external" href="https://github.com/dirkphilip/LASIF_2.0/issues/new">open an issue on GitHub</a>.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p><strong>LASIF 2.0</strong> is a Python based program and has a number of dependencies which
are listed here. It might well work with other versions but only the versions
listed here have been tested and are officially supported. It has been
tested on Linux and Mac OS X but should also run just fine on Windows.</p>
<p>If you know what you are doing, just make sure these dependencies are
available, otherwise please do yourself a favor and download the <a class="reference external" href="https://www.continuum.io/downloads">Anaconda</a> Python distribution, a free package
containing almost all dependencies. Download it, install it, and follow the
upcoming instructions. It will install <strong>LASIF</strong> into a separate <code class="docutils literal notranslate"><span class="pre">conda</span></code>
environment. This is very useful to separate the installation from the rest of
your system. Additionally it does not require root privileges and thus can be
installed almost everywhere.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sometimes you need the newest version of conda to install packages</span>
$ conda update conda
<span class="c1"># Create a new conda environment which will here be called &quot;lasif&quot;.</span>
$ conda create -n lasif <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.6
<span class="c1"># Activate the lasif environment. This will always be needed when LASIF is started.</span>
$ <span class="nb">source</span> activate lasif
<span class="c1"># Start installing dependencies</span>
$ conda config --add channels conda-forge
$ conda install -c conda-forge obspy nomkl basemap progressbar2 colorama joblib pytest nose mock pyqt
$ conda install -c conda-forge pyqtgraph pip sphinx sphinx_rtd_theme numexpr ipython dill prov seaborn
<span class="c1"># Install more packages via pip</span>
$ pip install pyqtgraph geographiclib flask-cache geojson flake8 <span class="nv">toml</span><span class="o">==</span><span class="m">0</span>.9.2
<span class="c1"># Pick a directory where you want to store pyexodus and move into it</span>
$ git clone https://github.com/SalvusHub/pyexodus.git
$ <span class="nb">cd</span> pyexodus
$ pip install -e .
<span class="c1"># Make sure you do not have an active installation of mpi4py from conda</span>
$ conda uninstall mpi4py
<span class="c1"># re-install it using pip</span>
$ pip install mpi4py
<span class="c1"># Install a parallel version of hdf5</span>
$ conda install -c spectraldns h5py-parallel
<span class="c1"># Install pyasdf. Move into the directory you want to keep it</span>
$ git clone https://github.com/SeismicData/pyasdf.git
$ <span class="nb">cd</span> pyasdf
$ pip install -e .
</pre></div>
</div>
<p>Make sure that pyasdf is working as it should by running the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -c <span class="s2">&quot;import pyasdf; pyasdf.print_sys_info()&quot;</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyasdf version <span class="m">0</span>.3.0
<span class="o">===============================================================================</span>
CPython <span class="m">3</span>.6.4, compiler: GCC <span class="m">4</span>.2.1 Compatible Apple LLVM <span class="m">6</span>.1.0 <span class="o">(</span>clang-602.0.53<span class="o">)</span>
Darwin <span class="m">16</span>.7.0 64bit
Machine: x86_64, Processor: i386 with <span class="m">4</span> <span class="nv">cores</span>
<span class="o">===============================================================================</span>
HDF5 version <span class="m">1</span>.8.14, h5py version: <span class="m">2</span>.6.0
MPI: MPICH, version: <span class="m">3</span>.2.0, mpi4py version: <span class="m">3</span>.0.0
Parallel I/O support: True
Problematic multiprocessing: <span class="nv">None</span>
<span class="o">===============================================================================</span>
Other_modules:
        dill: <span class="m">0</span>.2.7.1
        lxml: <span class="m">4</span>.1.1
        numpy: <span class="m">1</span>.14.0
        obspy: <span class="m">1</span>.1.0
</pre></div>
</div>
<p>which should print something like the following lines:</p>
<p>We now need a component of <a class="reference external" href="https://www.salvus.io">Salvus</a> salvus seismo.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Move to a directory where you want to store salvus seismo and then execute</span>
$ git clone https://gitlab.com/Salvus/salvus_seismo
$ <span class="nb">cd</span> salvus_seismo/py
$ pip install -v -e .
</pre></div>
</div>
</div>
<div class="section" id="installing-lasif">
<h3>Installing LASIF<a class="headerlink" href="#installing-lasif" title="Permalink to this headline">¶</a></h3>
<p>The actual <strong>LASIF</strong> module can then be installed with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/dirkphilip/LASIF_2.0.git
$ <span class="nb">cd</span> LASIF_2.0
$ pip install -v -e .
</pre></div>
</div>
<p>After the installation one should run the tests to ensure everything is
installed correctly and works as intended on your machine.</p>
</div>
<div class="section" id="updating-lasif">
<h3>Updating LASIF<a class="headerlink" href="#updating-lasif" title="Permalink to this headline">¶</a></h3>
<p>To update <strong>LASIF 2.0</strong>, change into the <strong>LASIF 2.0</strong> directory and type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git pull
$ pip install -v -e .
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p><strong>LASIF</strong> evolved into a fairly complex piece of code and extensive testing is
required to assure that it works as expected.</p>
<div class="section" id="running-the-tests">
<h3>Running the Tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h3>
<p>To run the tests, cd into the toplevel <code class="docutils literal notranslate"><span class="pre">LASIF_2.0</span></code> directory and execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ py.test
</pre></div>
</div>
<p>This will recursively find and execute all tests below the current working
directory.</p>
<p>No errors should occur. <strong>If you see nothing - make sure your MPI installation
is correct (see above)</strong>.</p>
<p>Assuming your machine has multiple cores, the test can also be sped up
quite a bit by using <code class="docutils literal notranslate"><span class="pre">pytest-xdist</span></code> which can be installed via pip.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install pytest-xdist
</pre></div>
</div>
<p>It enables to distribute the tests across cores. To run on, for example, eight
cores, use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ py.test -n <span class="m">8</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="developer-information">
<h2>Developer Information<a class="headerlink" href="#developer-information" title="Permalink to this headline">¶</a></h2>
<p>The following rules should be followed when developing for <strong>LASIF 2.0</strong>:</p>
<ul>
<li><p class="first"><strong>LASIF 2.0</strong> is written entirely in Python 3.6.</p>
</li>
<li><p class="first"><a class="reference external" href="http://lukeplant.me.uk/blog/posts/docs-or-it-doesnt-exist/">Document</a> the
code.</p>
</li>
<li><p class="first">Adhere to <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP8</a>.</p>
</li>
<li><p class="first">All contributed code must be contributed under the GPLv3.</p>
</li>
<li><p class="first">Write tests where reasonable.</p>
<blockquote>
<div><ul class="simple">
<li><strong>LASIF 2.0</strong> utilizes <a class="reference external" href="https://travis-ci.org/krischer/LASIF">Travis CI</a>
for continuous integration testing. This means that every commit will be
automatically tested and the responsible developer will receive an email
in case her/his commit breaks <strong>LASIF 2.0</strong>.</li>
<li>The tests also verify the PEP8 conformance of the entire code base.</li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>In order to ease development, a consistent terminology should be used
throughout the code base.</p>
<p>Assume a channel with a SEED identifier being equal to <cite>NET.STA.LOC.CHA</cite>, then
the separate components should be called:</p>
<ul class="simple">
<li><strong>channel_id</strong>: <cite>NET.STA.LOC.CHA</cite></li>
<li><strong>station_id</strong>: <cite>NET.STA</cite></li>
<li><strong>network_code</strong> or <strong>network</strong>: <cite>NET</cite></li>
<li><strong>station_code</strong> or <strong>station</strong>: <cite>STA</cite></li>
<li><strong>location_code</strong> or <strong>location</strong>: <cite>LOC</cite></li>
<li><strong>channel_code</strong> or <strong>channel</strong>: <cite>CHA</cite></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="introduction.html" class="btn btn-neutral float-right" title="Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to LASIF 2.0" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.x',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>